<div class="container mt-4">
  <div class="header-section">
    <h2 class="fw-bold mb-4">Genre Detail</h2>
    <a routerLink="/genres" class="btn btn-outline-secondary">Back to Genres</a>
  </div>

  <!-- Información del género (Maestro) -->
  <div class="genre-info-card" *ngIf="genre">
    <h3>{{ genre.type }}</h3>
    <p class="text-muted">Genre ID: {{ genre.id }}</p>
  </div>

  <!-- Lista de películas del género (Detalle) -->
  <div class="movies-section">
    <h4 class="fw-bold mb-3">Movies in this Genre</h4>

    <div class="search-bar">
      <input
        type="text"
        placeholder="Filter by title"
        [(ngModel)]="searchText"
        class="form-control"
      />
      <button class="btn btn-dark" (click)="filterMovies()">Search</button>
    </div>

    <div class="movies-count" *ngIf="filteredMovies.length > 0">
      <p>Showing {{ filteredMovies.length }} movie(s)</p>
    </div>

    <div class="movies-grid" *ngIf="filteredMovies.length > 0">
      <div class="movie-card" *ngFor="let movie of filteredMovies">
        <img [src]="movie.poster" [alt]="movie.title" />
        <h6>{{ movie.title }}</h6>
        <div class="meta">
          <span>{{ movie.country }}</span>
          <span>{{ movie.duration }} hrs</span>
        </div>
        <div class="meta">
          <span>Popularity: {{ movie.popularity }}</span>
        </div>
        <small>{{ movie.releaseDate | date:'yyyy-MM-dd' }}</small>
      </div>
    </div>

    <div class="no-results" *ngIf="filteredMovies.length === 0 && movies.length > 0">
      <p>No movies found matching your search.</p>
    </div>

    <div class="no-movies" *ngIf="movies.length === 0">
      <p>No movies available for this genre.</p>
    </div>
  </div>
</div>
