<div class="genre-list-container">
  <div class="header">
    <h1>Géneros Cinematográficos</h1>
    <p class="subtitle">Selecciona un género para ver sus detalles y películas asociadas</p>
  </div>

  <!-- Loading Spinner -->
  <div *ngIf="loading" class="loading-container">
    <div class="spinner"></div>
    <p>Cargando géneros...</p>
  </div>

  <!-- Error Message -->
  <div *ngIf="error" class="error-message">
    <i class="icon-error"></i>
    <p>{{ error }}</p>
    <button (click)="loadGenres()" class="btn-retry">Reintentar</button>
  </div>

  <!-- Master-Detail Layout -->
  <div *ngIf="!loading && !error" class="master-detail-layout">
    
    <!-- Sección Maestro: Lista de géneros -->
    <div class="master-section">
      <h2>Lista de Géneros</h2>
      <div class="genre-cards">
        <div 
          *ngFor="let genre of genres"
          class="genre-card"
          [class.selected]="isSelected(genre.id)"
          (click)="selectGenre(genre.id)"
        >
          <div class="card-header">
            <h3>{{ genre.name }}</h3>
          </div>
          <div class="card-body">
            <p class="genre-description">
              {{ genre.description || 'Sin descripción disponible' }}
            </p>
          </div>
          <div class="card-footer">
            <button 
              (click)="viewGenreDetail(genre.id); $event.stopPropagation()"
              class="btn-view-detail"
            >
              Ver detalle completo
            </button>
          </div>
        </div>
      </div>
      
      <!-- Message when no genres -->
      <div *ngIf="genres.length === 0" class="no-data">
        <i class="icon-empty"></i>
        <p>No hay géneros disponibles</p>
      </div>
    </div>

    <!-- Sección Detalle: Muestra el detalle del género seleccionado -->
    <div class="detail-section">
      <div *ngIf="selectedGenreId" class="detail-content">
        <app-genre-detail [genreId]="selectedGenreId"></app-genre-detail>
      </div>
      <div *ngIf="!selectedGenreId" class="no-selection">
        <i class="icon-select"></i>
        <p>Selecciona un género de la lista para ver su detalle</p>
      </div>
    </div>
  </div>
</div>
