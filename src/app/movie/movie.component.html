<div class="movie-page">
  <div class="header-row">
    <div class="title-row">
      <h2 class="page-title">Popular movies</h2>
      <div class="search-wrapper" #searchWrapper>
        <button class="icon-btn" (click)="toggleSearch()" aria-label="Toggle search">
          <i class="bi bi-search"></i>
        </button>
        <div class="search-panel" *ngIf="showSearch">
          <input
            type="text"
            placeholder="Search movies"
            [(ngModel)]="searchText"
            (keyup.enter)="filterMovies()"
            class="form-control"
          />
          <button class="btn btn-light" (click)="filterMovies()">Search</button>
        </div>
      </div>
    </div>
  </div>

  <div class="movies-grid">
    <div class="movie-card" *ngFor="let m of filteredMovies" (click)="openModal(m)">
      <div class="poster">
        <img [src]="m.poster" [alt]="m.title" />
      </div>
      <h6 class="title">{{ m.title }}</h6>
    </div>
  </div>
</div>

<app-movie-detail *ngIf="selectedMovie" [movieDetail]="selectedMovie" (close)="closeModal()"></app-movie-detail>


